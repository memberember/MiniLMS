<!--index-->

{% extends 'base.html' %}

{% block title %}
<title>Список факультетов</title>
<script type=text/javascript src="{{ url_for('static', filename='js/jquery-2.2.2.min.js') }}"></script>
{% endblock %}

{% block body %}
<script>
    function process(form) {
        $.ajax({
            type: "POST",
            url: "/process",
            data: $(form).serialize(),
            type: 'POST',
            success: function (response) {
                var json = jQuery.parseJSON(response)
                $('#len').html(json.len)

                console.log(response);
            },
            error: function (error) {
                console.log(error);
            }
        });
    }
</script>

<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">Список факультетов</h1>
    <!--    <p class="lead">Зеленым цветом выделено посещение, красным уход студента из общежития</p>-->
</div>

<div class="container">

    <table class="table table-striped table-sm">
        <thead>
        <tr>
            <th>#</th>
            <th>Название факультета</th>
<!--            <th>Тип пользователя</th>-->
<!--            <th>Редактирование</th>-->
        </tr>
        </thead>
        <tbody>

        <div id="len">0</div>

        {% for el in data %}

        <tr>
            <form action="/process" method='post' name='form{{ el.id }}' >
                <td>{{ el.id }}</td>
                <input type="hidden" name="faculty_id" id="faculty_id" value='{{ el.id }}' id="minput"/>
                <td><input  type="text" class="form-control" name="name" id="name"
                           value='{{ el.name }}' >
                </td>

            </form>
        </tr>
        {% endfor %}

        </tbody>
    </table>
</div>


{% endblock %}
