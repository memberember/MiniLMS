<!--index-->

{% extends 'base.html' %}

{% block title %}
<title>Список дисциплин</title>
<script type=text/javascript src="{{ url_for('static', filename='js/jquery-2.2.2.min.js') }}"></script>
{% endblock %}

{% block body %}
<script>
    function process(form) {
        $.ajax({
            type: "POST",
            url: "/process",
            data: $(form).serialize(),
            type: 'POST',
            success: function (response) {
                var json = jQuery.parseJSON(response)
                $('#len').html(json.len)

                console.log(response);
            },
            error: function (error) {
                console.log(error);
            }
        });
    }
</script>

<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">Список дисциплин</h1>
    <!--    <p class="lead">Зеленым цветом выделено посещение, красным уход студента из общежития</p>-->
</div>

<div class="container">

    <table class="table table-striped table-sm">
        <thead>
        <tr>
            <th>ID Дисциплины</th>
            <th>Название дисциплины</th>
            <th>ID Учителя</th>
            <th>Хотите изучить?</th>
        </tr>
        </thead>
        <tbody>

        <div id="len">0</div>

        {% for el in data %}

        <tr>
            <form action="/process" method='post' name='form{{ el.id }}'>
                <td>{{ el.id }}</td>
                <td>
                    {{ el.name }}
                </td>
                <td>
                    {{ el.id }}
                </td>
                <td>
                    <button type="button" class="btn btn-dark">Да</button>
                   <button type="button" class="btn btn-light">Нет</button>

                </td>
            </form>
        </tr>
        {% endfor %}

        </tbody>
    </table>
</div>


{% endblock %}
